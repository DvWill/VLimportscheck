<!DOCTYPE html>
<html lang="pt-BR" class="h-full scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Or√ßamento | V&L Exclusive</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@200;300;400;500;600;700&display=swap');

        /* NOVAS CORES: CYAN TIT√ÇNIO */
        :root {
            --premium-color: #06b6d4; /* Cyan Vibrante */
            --premium-dark: #0891b2;  /* Cyan Escuro */
            --premium-glow: rgba(6, 182, 212, 0.4);
            --glass-bg: rgba(10, 10, 10, 0.6);
            --glass-border: rgba(255, 255, 255, 0.08);
        }
        
        body {
            font-family: 'Outfit', sans-serif;
            background-color: #020202;
            color: #fff;
            /* Fundo Premium: Gradientes radiais sutis simulando ilumina√ß√£o de est√∫dio */
            background-image: 
                radial-gradient(circle at 0% 0%, rgba(6, 182, 212, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 100% 100%, rgba(8, 145, 178, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.01) 0%, transparent 100%);
            background-attachment: fixed;
            min-height: 100vh;
        }

        .fade-in {
            animation: fadeIn 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Cards Premium */
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .glass-card:hover {
            border-color: rgba(6, 182, 212, 0.5);
            box-shadow: 0 0 40px rgba(6, 182, 212, 0.15);
            transform: translateY(-2px);
        }

        /* Inputs e Selects */
        select, input, textarea {
            background-color: rgba(20, 20, 20, 0.6) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            color: white !important;
            transition: all 0.3s ease;
        }
        select:focus, input:focus, textarea:focus {
            border-color: var(--premium-color) !important;
            box-shadow: 0 0 0 2px rgba(6, 182, 212, 0.2) !important;
            outline: none;
            background-color: rgba(6, 182, 212, 0.05) !important;
        }
        option { background-color: #0a0a0a; color: white; }

        /* Divis√≥ria Neon */
        .divider {
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--premium-color), transparent);
            opacity: 0.5;
            box-shadow: 0 0 10px var(--premium-color);
        }

        /* Bot√µes com Glow */
        .btn-glow {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        .btn-glow:hover {
            box-shadow: 0 0 30px var(--premium-glow);
            transform: translateY(-1px);
            filter: brightness(1.1);
        }
        
        /* Checkbox/Radio */
        input[type="checkbox"]:checked, input[type="radio"]:checked {
            background-color: var(--premium-color);
            border-color: var(--premium-color);
            accent-color: var(--premium-color);
        }
        
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #020202; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--premium-color); }
    </style>
</head>
<body class="h-full selection:bg-[#06b6d4] selection:text-black">

    <nav class="glass-card sticky top-0 z-50 border-b border-white/5">
        <div class="max-w-7xl mx-auto px-4 md:px-6 py-3">
            <div class="flex items-center justify-between">
                
                <div class="flex items-center gap-3">
                     <img src="Design sem nome.png" 
                          alt="V&L System" 
                          class="h-10 md:h-12 w-auto object-contain drop-shadow-[0_0_15px_rgba(6,182,212,0.3)] hover:scale-105 transition-transform duration-300">
                    <span class="text-xs font-bold text-[#06b6d4] uppercase tracking-widest border-l border-white/20 pl-3 py-1 hidden sm:block">
                        System
                    </span>
                </div>

                <div class="hidden md:flex items-center gap-8">
                    <a href="index.html" class="text-gray-400 hover:text-[#06b6d4] transition-colors text-xs font-bold uppercase tracking-widest">In√≠cio</a>
                    <a href="#modelos" class="text-gray-400 hover:text-[#06b6d4] transition-colors text-xs font-bold uppercase tracking-widest">Or√ßamento</a>
                    <a href="#troca" class="text-gray-400 hover:text-[#06b6d4] transition-colors text-xs font-bold uppercase tracking-widest">Trade-in</a>
                </div>

                <div class="hidden md:block">
                    <button onclick="scrollToForm()" class="bg-[#06b6d4] text-black px-6 py-2 rounded-lg hover:bg-[#22d3ee] transition-all duration-300 text-xs font-bold uppercase tracking-wider shadow-[0_0_20px_rgba(6,182,212,0.3)]">
                        Novo Or√ßamento
                    </button>
                </div>

                <button id="mobile-menu-btn" class="md:hidden text-white hover:text-[#06b6d4] transition-colors">
                    <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                </button>
            </div>

            <div id="mobile-menu" class="hidden md:hidden mt-4 pt-4 border-t border-white/10 bg-black/90 rounded-b-xl">
                <div class="flex flex-col gap-4 pb-4 px-2">
                    <a href="index.html" class="text-white hover:text-[#06b6d4] transition-colors text-sm font-medium pl-2">In√≠cio</a>
                    <a href="#modelos" class="text-gray-300 hover:text-[#06b6d4] transition-colors text-sm font-medium pl-2">Modelos</a>
                    <button onclick="scrollToForm()" class="bg-[#06b6d4] text-black px-6 py-3 rounded-lg text-sm font-bold shadow-lg w-full">Avaliar Agora</button>
                </div>
            </div>
        </div>
    </nav>

    <div class="min-h-full p-4 md:p-12 relative z-10" id="inicio">
        <div class="max-w-7xl mx-auto relative">
            <header class="text-center mb-12 md:mb-16 fade-in pt-4">
                <h1 class="text-3xl md:text-6xl font-thin tracking-tighter text-white mb-4 drop-shadow-2xl">
                    Avalia√ß√£o <span class="font-bold text-transparent bg-clip-text bg-gradient-to-r from-[#67e8f9] to-[#06b6d4]">Inteligente</span>
                </h1>
                <div class="divider max-w-xs mx-auto mb-6"></div>
                <p class="text-gray-400 text-xs md:text-sm uppercase tracking-[0.3em] font-medium">Sistema de Precifica√ß√£o & Trade-in</p>
            </header>

            <div class="grid lg:grid-cols-3 gap-8" id="modelos">
                
                <div class="lg:col-span-2 space-y-6 fade-in" style="animation-delay: 0.1s;">
                    
                    <div class="glass-card rounded-2xl p-6 md:p-8 transition-all duration-300 relative overflow-hidden group">
                        <div class="absolute left-0 top-0 h-full w-1 bg-gradient-to-b from-[#06b6d4] to-transparent opacity-50 group-hover:opacity-100 transition-opacity"></div>
                        
                        <div class="flex items-center gap-4 mb-8">
                            <div class="w-12 h-12 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-[#06b6d4] shadow-[0_0_15px_rgba(6,182,212,0.1)]">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path></svg>
                            </div>
                            <div>
                                <h2 class="text-xl font-medium text-white">Dispositivo Desejado</h2>
                                <p class="text-xs text-gray-400 uppercase tracking-wider">O que o cliente busca?</p>
                            </div>
                        </div>

                        <label for="modelo-desejado" class="block text-xs font-bold text-[#06b6d4] uppercase tracking-widest mb-3 pl-1">Selecione o Modelo</label>
                        <div class="relative">
                            <select id="modelo-desejado" class="w-full p-4 rounded-xl text-sm appearance-none cursor-pointer">
                                <option value="">Toque para escolher...</option>
                                <option value="iphone15pro">iPhone 15 Pro</option>
                                <option value="iphone15promax">iPhone 15 Pro Max</option>
                                <option value="iphone15">iPhone 15</option>
                                <option value="iphone15plus">iPhone 15 Plus</option>
                                <option value="iphone14pro">iPhone 14 Pro</option>
                                <option value="iphone14promax">iPhone 14 Pro Max</option>
                                <option value="iphone14">iPhone 14</option>
                                <option value="iphone14plus">iPhone 14 Plus</option>
                                <option value="iphone13pro">iPhone 13 Pro</option>
                                <option value="iphone13promax">iPhone 13 Pro Max</option>
                                <option value="iphone13">iPhone 13</option>
                                <option value="iphone12promax">iPhone 12 Pro Max</option>
                            </select>
                            <div class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none">‚ñº</div>
                        </div>
                    </div>

                    <div class="glass-card rounded-2xl p-6 md:p-8 transition-all duration-300" id="troca">
                        <div class="flex items-center gap-4 mb-8">
                            <div class="w-12 h-12 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-[#06b6d4] shadow-[0_0_15px_rgba(6,182,212,0.1)]">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>
                            </div>
                            <div>
                                <h2 class="text-xl font-medium text-white">Trade-in</h2>
                                <p class="text-xs text-gray-400 uppercase tracking-wider">Avalia√ß√£o de entrada</p>
                            </div>
                        </div>
                        
                        <div class="mb-8 p-4 rounded-xl bg-white/5 border border-white/5 hover:border-[#06b6d4]/50 transition-colors">
                            <label class="flex items-center cursor-pointer justify-between w-full">
                                <span class="text-gray-200 text-sm font-medium">Incluir aparelho na negocia√ß√£o?</span>
                                <div class="relative">
                                    <input type="checkbox" id="tem-troca" class="sr-only peer">
                                    <div class="w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#06b6d4] peer-checked:shadow-[0_0_10px_#06b6d4]"></div>
                                </div>
                            </label>
                        </div>

                        <div id="troca-section" class="hidden space-y-6">
                            <div>
                                <label for="modelo-troca" class="block text-xs font-bold text-[#06b6d4] uppercase tracking-widest mb-3 pl-1">Modelo de Entrada</label>
                                <div class="relative">
                                    <select id="modelo-troca" class="w-full p-4 rounded-xl text-sm appearance-none cursor-pointer">
                                        <option value="">Escolha o modelo...</option>
                                        <option value="iphone14promax">iPhone 14 Pro Max</option>
                                        <option value="iphone14pro">iPhone 14 Pro</option>
                                        <option value="iphone13promax">iPhone 13 Pro Max</option>
                                        <option value="iphone13pro">iPhone 13 Pro</option>
                                        <option value="iphone13">iPhone 13</option>
                                        <option value="iphone12promax">iPhone 12 Pro Max</option>
                                        <option value="iphone12pro">iPhone 12 Pro</option>
                                        <option value="iphone12">iPhone 12</option>
                                        <option value="iphone11pro">iPhone 11 Pro</option>
                                        <option value="iphone11">iPhone 11</option>
                                        <option value="iphonexs">iPhone XS</option>
                                        <option value="iphonex">iPhone X</option>
                                    </select>
                                    <div class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none">‚ñº</div>
                                </div>
                            </div>

                            <div>
                                <label for="cor-troca" class="block text-xs font-bold text-[#06b6d4] uppercase tracking-widest mb-3 pl-1">Cor</label>
                                <div class="relative">
                                    <select id="cor-troca" class="w-full p-4 rounded-xl text-sm appearance-none cursor-pointer disabled:opacity-50" disabled>
                                        <option value="">Selecione primeiro o modelo...</option>
                                    </select>
                                    <div class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none">‚ñº</div>
                                </div>
                            </div>

                            <div>
                                <label class="block text-xs font-bold text-[#06b6d4] uppercase tracking-widest mb-3 pl-1">Estado de Conserva√ß√£o</label>
                                <div class="grid grid-cols-2 gap-4">
                                    <label class="group flex items-start p-4 rounded-xl cursor-pointer bg-white/5 border border-white/10 hover:border-green-500/50 hover:bg-green-500/5 transition-all">
                                        <input type="radio" name="estado-troca" value="excelente" class="mt-1 mr-3 text-green-500 focus:ring-green-500 bg-black/50 border-gray-600">
                                        <div>
                                            <div class="font-bold text-green-400 text-sm group-hover:text-green-300">Excelente</div>
                                            <div class="text-[10px] text-gray-500 uppercase tracking-wide">Sem marcas</div>
                                        </div>
                                    </label>
                                    <label class="group flex items-start p-4 rounded-xl cursor-pointer bg-white/5 border border-white/10 hover:border-blue-500/50 hover:bg-blue-500/5 transition-all">
                                        <input type="radio" name="estado-troca" value="bom" class="mt-1 mr-3 text-blue-500 focus:ring-blue-500 bg-black/50 border-gray-600">
                                        <div>
                                            <div class="font-bold text-blue-400 text-sm group-hover:text-blue-300">Bom</div>
                                            <div class="text-[10px] text-gray-500 uppercase tracking-wide">Micro riscos</div>
                                        </div>
                                    </label>
                                    <label class="group flex items-start p-4 rounded-xl cursor-pointer bg-white/5 border border-white/10 hover:border-yellow-500/50 hover:bg-yellow-500/5 transition-all">
                                        <input type="radio" name="estado-troca" value="usado" class="mt-1 mr-3 text-yellow-500 focus:ring-yellow-500 bg-black/50 border-gray-600">
                                        <div>
                                            <div class="font-bold text-yellow-400 text-sm group-hover:text-yellow-300">Usado</div>
                                            <div class="text-[10px] text-gray-500 uppercase tracking-wide">Marcas vis√≠veis</div>
                                        </div>
                                    </label>
                                    <label class="group flex items-start p-4 rounded-xl cursor-pointer bg-white/5 border border-white/10 hover:border-red-500/50 hover:bg-red-500/5 transition-all">
                                        <input type="radio" name="estado-troca" value="danificado" class="mt-1 mr-3 text-red-500 focus:ring-red-500 bg-black/50 border-gray-600">
                                        <div>
                                            <div class="font-bold text-red-400 text-sm group-hover:text-red-300">Danificado</div>
                                            <div class="text-[10px] text-gray-500 uppercase tracking-wide">Trincado/Defeito</div>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="block text-xs font-bold text-[#06b6d4] uppercase tracking-widest mb-3 pl-1">Pe√ßas Trocadas / Detalhes</label>
                                <div class="grid grid-cols-2 gap-3">
                                    <label class="flex items-center p-3 rounded-xl cursor-pointer bg-white/5 border border-white/10 hover:border-[#06b6d4] transition-all">
                                        <input type="checkbox" name="pecas-troca" value="tela" class="mr-3 text-[#06b6d4] focus:ring-[#06b6d4] rounded bg-black/50 border-gray-600">
                                        <span class="text-gray-300 text-sm">Tela Trocada</span>
                                    </label>
                                    <label class="flex items-center p-3 rounded-xl cursor-pointer bg-white/5 border border-white/10 hover:border-[#06b6d4] transition-all">
                                        <input type="checkbox" name="pecas-troca" value="bateria" class="mr-3 text-[#06b6d4] focus:ring-[#06b6d4] rounded bg-black/50 border-gray-600">
                                        <span class="text-gray-300 text-sm">Bateria < 80%</span>
                                    </label>
                                    <label class="flex items-center p-3 rounded-xl cursor-pointer bg-white/5 border border-white/10 hover:border-[#06b6d4] transition-all">
                                        <input type="checkbox" name="pecas-troca" value="camera" class="mr-3 text-[#06b6d4] focus:ring-[#06b6d4] rounded bg-black/50 border-gray-600">
                                        <span class="text-gray-300 text-sm">Falha na C√¢mera</span>
                                    </label>
                                    <label class="flex items-center p-3 rounded-xl cursor-pointer bg-white/5 border border-white/10 hover:border-[#06b6d4] transition-all">
                                        <input type="checkbox" name="pecas-troca" value="outros" class="mr-3 text-[#06b6d4] focus:ring-[#06b6d4] rounded bg-black/50 border-gray-600">
                                        <span class="text-gray-300 text-sm">Face ID Off</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="glass-card rounded-2xl p-6 md:p-8 transition-all duration-300" id="contato">
                        <div class="flex items-center gap-4 mb-6">
                            <div class="w-12 h-12 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center text-[#06b6d4] shadow-[0_0_15px_rgba(6,182,212,0.1)]">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                            </div>
                            <h2 class="text-xl font-medium text-white">Dados do Cliente</h2>
                        </div>
                        <div class="grid md:grid-cols-2 gap-5">
                            <div>
                                <label for="nome" class="block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2">Nome</label>
                                <input type="text" id="nome" class="w-full p-4 rounded-xl text-sm" placeholder="Nome completo">
                            </div>
                            <div>
                                <label for="telefone" class="block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2">WhatsApp</label>
                                <input type="tel" id="telefone" class="w-full p-4 rounded-xl text-sm" placeholder="(00) 00000-0000">
                            </div>
                        </div>
                        <div class="mt-5">
                            <label for="observacoes" class="block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2">Notas</label>
                            <textarea id="observacoes" rows="3" class="w-full p-4 rounded-xl text-sm" placeholder="Alguma observa√ß√£o especial?"></textarea>
                        </div>
                    </div>
                </div>

                <div class="lg:col-span-1">
                    <div class="glass-card rounded-2xl p-8 sticky top-28 transition-all duration-300 border-t-4 border-t-[#06b6d4]">
                        <div class="text-center mb-6">
                            <h2 class="text-lg font-bold text-white uppercase tracking-widest mb-2">Resumo</h2>
                            <div class="divider"></div>
                        </div>
                        
                        <div id="resumo-content" class="space-y-4">
                            <div class="text-center text-gray-500 py-12 flex flex-col items-center opacity-50">
                                <svg class="w-16 h-16 mb-4 text-[#06b6d4]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>
                                <p class="text-xs uppercase tracking-widest">Aguardando Sele√ß√£o</p>
                            </div>
                        </div>

                        <div id="resumo-detalhado" class="hidden space-y-6">
                            <div class="space-y-4">
                                <div class="bg-gradient-to-r from-[#06b6d4]/20 to-transparent rounded-xl p-5 border border-[#06b6d4]/30 relative overflow-hidden">
                                    <div class="absolute -right-4 -top-4 w-16 h-16 bg-[#06b6d4] opacity-20 rounded-full blur-xl"></div>
                                    <div class="text-[10px] text-[#67e8f9] font-bold uppercase tracking-widest mb-1">Interesse</div>
                                    <div id="modelo-desejado-nome" class="text-lg font-medium text-white">-</div>
                                </div>

                                <div id="valor-troca-section" class="hidden bg-gradient-to-r from-blue-500/10 to-transparent rounded-xl p-5 border border-blue-500/20">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <div class="text-[10px] text-blue-400 font-bold uppercase tracking-widest mb-1">Entrada (Trade-in)</div>
                                            <div id="modelo-troca-nome" class="text-sm text-gray-300 mb-1">-</div>
                                        </div>
                                        <div id="valor-troca" class="text-xl font-bold text-blue-400">R$ 0,00</div>
                                    </div>
                                </div>
                            </div>

                            <div class="space-y-3 mt-8">
                                <button id="btn-whatsapp" class="btn-glow w-full bg-green-600 text-white py-4 px-6 rounded-xl hover:bg-green-500 transition-all font-bold text-xs uppercase tracking-widest flex items-center justify-center gap-2 shadow-lg shadow-green-900/20">
                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12.031 6.172c-3.181 0-5.767 2.586-5.768 5.766-.001 1.298.38 2.27 1.019 3.287l-.711 2.598 2.664-.698c.935.539 1.838.835 2.793.837h.005c3.181 0 5.767-2.586 5.767-5.766.001-3.181-2.587-5.767-5.769-5.767zm0 10.457c-.856 0-1.683-.263-2.559-.723l-.183-.11-1.895.497.509-1.847-.116-.188c-.534-.827-.816-1.666-.816-2.564.001-2.587 2.103-4.69 4.692-4.691 1.253 0 2.43.488 3.315 1.374.886.886 1.373 2.062 1.373 3.316-.001 2.588-2.106 4.693-4.695 4.693zm2.573-3.514c-.141-.07-8.832-4.045-.832-4.045-.456 0-.527.217-.604.406l-2.071 5.04c-.069.172-.008.337.133.407.142.07.599.28.878.28.148 0 .285-.01.432.226.155.249.527 1.154.646 1.154.119 0 .265-.006.406-.006.141 0 .367-.053.564.148.196.202 2.071 2.277 2.071 2.277.133.141.258.199.379.129.121-.07.527-2.064.527-2.064s.283-.418.142-.488z"/></svg>
                                    Enviar no WhatsApp
                                </button>
                                <div class="grid grid-cols-2 gap-3">
                                    <button id="btn-pdf" class="w-full bg-white/5 border border-white/10 text-white py-3 rounded-xl hover:bg-white/10 hover:border-[#06b6d4] hover:text-[#06b6d4] transition-all font-medium text-xs uppercase tracking-widest flex items-center justify-center gap-2">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>
                                        PDF
                                    </button>
                                    <button id="btn-salvar" class="w-full bg-[#06b6d4] text-black py-3 rounded-xl hover:bg-[#22d3ee] transition-all font-bold text-xs uppercase tracking-widest shadow-[0_0_10px_rgba(6,182,212,0.3)] flex items-center justify-center gap-2">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"></path></svg>
                                        Salvar
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div id="historico" class="mt-8 pt-6 border-t border-white/5">
                            <h3 class="text-[10px] font-bold text-gray-500 uppercase tracking-widest mb-4">Recentes</h3>
                            <div id="lista-historico" class="space-y-2 max-h-32 overflow-y-auto pr-1">
                                <p class="text-gray-600 text-xs text-center py-2 italic">Hist√≥rico vazio</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="modal-feedback" class="fixed inset-0 bg-black/90 backdrop-blur-md hidden items-center justify-center z-[60]">
        <div class="glass-card rounded-2xl p-8 max-w-sm mx-4 text-center border-[#06b6d4]/50 shadow-[0_0_50px_rgba(6,182,212,0.3)] transform transition-all scale-100">
            <div id="modal-content">
                <div class="w-16 h-16 mx-auto mb-6 rounded-full bg-[#06b6d4]/20 flex items-center justify-center text-[#06b6d4]"></div>
                <h3 class="text-2xl font-light text-white mb-2">Sucesso!</h3>
                <p class="text-gray-400 text-sm mb-8 leading-relaxed">A√ß√£o realizada com √™xito.</p>
                <button id="btn-fechar-modal" class="bg-[#06b6d4] text-black px-10 py-3 rounded-xl hover:bg-[#22d3ee] transition-all text-sm font-bold uppercase tracking-widest shadow-lg">Fechar</button>
            </div>
        </div>
    </div>

    <script>
        // Dados e L√≥gica
        const modelosData = {
            'iphone15pro': { nome: 'iPhone 15 Pro', precoBase: 8500, cores: { 'titanio-natural': { nome: 'Tit√¢nio Natural', ajuste: 0 }, 'titanio-azul': { nome: 'Tit√¢nio Azul', ajuste: 200 }, 'titanio-branco': { nome: 'Tit√¢nio Branco', ajuste: 100 }, 'titanio-preto': { nome: 'Tit√¢nio Preto', ajuste: 150 } } },
            'iphone15promax': { nome: 'iPhone 15 Pro Max', precoBase: 9500, cores: { 'titanio-natural': { nome: 'Tit√¢nio Natural', ajuste: 0 }, 'titanio-azul': { nome: 'Tit√¢nio Azul', ajuste: 200 }, 'titanio-branco': { nome: 'Tit√¢nio Branco', ajuste: 100 }, 'titanio-preto': { nome: 'Tit√¢nio Preto', ajuste: 150 } } },
            'iphone15': { nome: 'iPhone 15', precoBase: 6500, cores: { 'rosa': { nome: 'Rosa', ajuste: 100 }, 'amarelo': { nome: 'Amarelo', ajuste: 50 }, 'verde': { nome: 'Verde', ajuste: 50 }, 'azul': { nome: 'Azul', ajuste: 0 }, 'preto': { nome: 'Preto', ajuste: 0 } } },
            'iphone15plus': { nome: 'iPhone 15 Plus', precoBase: 7200, cores: { 'rosa': { nome: 'Rosa', ajuste: 100 }, 'amarelo': { nome: 'Amarelo', ajuste: 50 }, 'verde': { nome: 'Verde', ajuste: 50 }, 'azul': { nome: 'Azul', ajuste: 0 }, 'preto': { nome: 'Preto', ajuste: 0 } } },
            'iphone14pro': { nome: 'iPhone 14 Pro', precoBase: 7200, cores: { 'roxo-profundo': { nome: 'Roxo Profundo', ajuste: 200 }, 'dourado': { nome: 'Dourado', ajuste: 150 }, 'prateado': { nome: 'Prateado', ajuste: 100 }, 'grafite': { nome: 'Grafite', ajuste: 0 } } },
            'iphone14promax': { nome: 'iPhone 14 Pro Max', precoBase: 8200, cores: { 'roxo-profundo': { nome: 'Roxo Profundo', ajuste: 200 }, 'dourado': { nome: 'Dourado', ajuste: 150 }, 'prateado': { nome: 'Prateado', ajuste: 100 }, 'grafite': { nome: 'Grafite', ajuste: 0 } } },
            'iphone14': { nome: 'iPhone 14', precoBase: 5800, cores: { 'roxo': { nome: 'Roxo', ajuste: 100 }, 'amarelo': { nome: 'Amarelo', ajuste: 50 }, 'azul': { nome: 'Azul', ajuste: 0 }, 'rosa': { nome: 'Rosa', ajuste: 100 }, 'branco': { nome: 'Branco', ajuste: 0 }, 'preto': { nome: 'Preto', ajuste: 0 } } },
            'iphone14plus': { nome: 'iPhone 14 Plus', precoBase: 6500, cores: { 'roxo': { nome: 'Roxo', ajuste: 100 }, 'amarelo': { nome: 'Amarelo', ajuste: 50 }, 'azul': { nome: 'Azul', ajuste: 0 }, 'rosa': { nome: 'Rosa', ajuste: 100 }, 'branco': { nome: 'Branco', ajuste: 0 }, 'preto': { nome: 'Preto', ajuste: 0 } } },
            'iphone13pro': { nome: 'iPhone 13 Pro', precoBase: 6200, cores: { 'verde-alpino': { nome: 'Verde Alpino', ajuste: 150 }, 'azul-sierra': { nome: 'Azul Sierra', ajuste: 100 }, 'dourado': { nome: 'Dourado', ajuste: 100 }, 'prateado': { nome: 'Prateado', ajuste: 50 }, 'grafite': { nome: 'Grafite', ajuste: 0 } } },
            'iphone13promax': { nome: 'iPhone 13 Pro Max', precoBase: 7000, cores: { 'verde-alpino': { nome: 'Verde Alpino', ajuste: 150 }, 'azul-sierra': { nome: 'Azul Sierra', ajuste: 100 }, 'dourado': { nome: 'Dourado', ajuste: 100 }, 'prateado': { nome: 'Prateado', ajuste: 50 }, 'grafite': { nome: 'Grafite', ajuste: 0 } } },
            'iphone13': { nome: 'iPhone 13', precoBase: 4800, cores: { 'rosa': { nome: 'Rosa', ajuste: 100 }, 'azul': { nome: 'Azul', ajuste: 50 }, 'meia-noite': { nome: 'Meia-noite', ajuste: 0 }, 'luz-das-estrelas': { nome: 'Luz das Estrelas', ajuste: 50 }, 'vermelho': { nome: 'Vermelho', ajuste: 100 } } },
            'iphone12pro': { nome: 'iPhone 12 Pro', precoBase: 5500, cores: { 'azul-pacifico': { nome: 'Azul Pac√≠fico', ajuste: 150 }, 'dourado': { nome: 'Dourado', ajuste: 100 }, 'grafite': { nome: 'Grafite', ajuste: 0 }, 'prateado': { nome: 'Prateado', ajuste: 50 } } },
            'iphone12promax': { nome: 'iPhone 12 Pro Max', precoBase: 6200, cores: { 'azul-pacifico': { nome: 'Azul Pac√≠fico', ajuste: 150 }, 'dourado': { nome: 'Dourado', ajuste: 100 }, 'grafite': { nome: 'Grafite', ajuste: 0 }, 'prateado': { nome: 'Prateado', ajuste: 50 } } },
            'iphone12': { nome: 'iPhone 12', precoBase: 4200, cores: { 'roxo': { nome: 'Roxo', ajuste: 100 }, 'azul': { nome: 'Azul', ajuste: 50 }, 'verde': { nome: 'Verde', ajuste: 50 }, 'vermelho': { nome: 'Vermelho', ajuste: 100 }, 'branco': { nome: 'Branco', ajuste: 0 }, 'preto': { nome: 'Preto', ajuste: 0 } } },
            'iphone11pro': { nome: 'iPhone 11 Pro', precoBase: 4000, cores: { 'verde-meia-noite': { nome: 'Verde Meia-noite', ajuste: 100 }, 'cinza-espacial': { nome: 'Cinza Espacial', ajuste: 0 }, 'prateado': { nome: 'Prateado', ajuste: 50 }, 'dourado': { nome: 'Dourado', ajuste: 100 } } },
            'iphone11': { nome: 'iPhone 11', precoBase: 3200, cores: { 'roxo': { nome: 'Roxo', ajuste: 50 }, 'amarelo': { nome: 'Amarelo', ajuste: 50 }, 'verde': { nome: 'Verde', ajuste: 50 }, 'preto': { nome: 'Preto', ajuste: 0 }, 'branco': { nome: 'Branco', ajuste: 0 }, 'vermelho': { nome: 'Vermelho', ajuste: 100 } } },
            'iphonexs': { nome: 'iPhone XS', precoBase: 2800, cores: { 'dourado': { nome: 'Dourado', ajuste: 100 }, 'cinza-espacial': { nome: 'Cinza Espacial', ajuste: 0 }, 'prateado': { nome: 'Prateado', ajuste: 50 } } },
            'iphonex': { nome: 'iPhone X', precoBase: 2400, cores: { 'cinza-espacial': { nome: 'Cinza Espacial', ajuste: 0 }, 'prateado': { nome: 'Prateado', ajuste: 50 } } }
        };

        const ajustesEstado = { 'excelente': 1.0, 'bom': 0.85, 'usado': 0.65, 'danificado': 0.40 };
        const ajustesPecas = { 'tela': 0.85, 'bateria': 0.92, 'camera': 0.88, 'outros': 0.90 };

        // √çcones SVG para JS
        const icons = {
            check: '<svg class="w-16 h-16 text-[#06b6d4]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 13l4 4L19 7"></path></svg>',
            error: '<svg class="w-16 h-16 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',
            save: '<svg class="w-16 h-16 text-[#06b6d4]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"></path></svg>',
            pdf: '<svg class="w-16 h-16 text-[#06b6d4]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>',
            whatsapp: '<svg class="w-16 h-16 text-green-500" fill="currentColor" viewBox="0 0 24 24"><path d="M12.031 6.172c-3.181 0-5.767 2.586-5.768 5.766-.001 1.298.38 2.27 1.019 3.287l-.711 2.598 2.664-.698c.935.539 1.838.835 2.793.837h.005c3.181 0 5.767-2.586 5.767-5.766.001-3.181-2.587-5.767-5.769-5.767zm0 10.457c-.856 0-1.683-.263-2.559-.723l-.183-.11-1.895.497.509-1.847-.116-.188c-.534-.827-.816-1.666-.816-2.564.001-2.587 2.103-4.69 4.692-4.691 1.253 0 2.43.488 3.315 1.374.886.886 1.373 2.062 1.373 3.316-.001 2.588-2.106 4.693-4.695 4.693zm2.573-3.514c-.141-.07-8.832-4.045-.832-4.045-.456 0-.527.217-.604.406l-2.071 5.04c-.069.172-.008.337.133.407.142.07.599.28.878.28.148 0 .285-.01.432.226.155.249.527 1.154.646 1.154.119 0 .265-.006.406-.006.141 0 .367-.053.564.148.196.202 2.071 2.277 2.071 2.277.133.141.258.199.379.129.121-.07.527-2.064.527-2.064s.283-.418.142-.488z"/></svg>'
        };

        const modeloDesejadoSelect = document.getElementById('modelo-desejado');
        const temTrocaCheckbox = document.getElementById('tem-troca');
        const trocaSection = document.getElementById('troca-section');
        const modeloTrocaSelect = document.getElementById('modelo-troca');
        const corTrocaSelect = document.getElementById('cor-troca');
        const resumoContent = document.getElementById('resumo-content');
        const resumoDetalhado = document.getElementById('resumo-detalhado');
        const modeloDesejadoNome = document.getElementById('modelo-desejado-nome');
        const valorTrocaSection = document.getElementById('valor-troca-section');
        const valorTroca = document.getElementById('valor-troca');
        const modeloTrocaNome = document.getElementById('modelo-troca-nome');

        function formatarMoeda(valor) {
            return new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(valor);
        }

        temTrocaCheckbox.addEventListener('change', function() {
            if (this.checked) {
                trocaSection.classList.remove('hidden');
                trocaSection.classList.add('fade-in');
            } else {
                trocaSection.classList.add('hidden');
                trocaSection.classList.remove('fade-in');
                modeloTrocaSelect.value = '';
                corTrocaSelect.value = '';
                corTrocaSelect.disabled = true;
            }
            calcularOrcamento();
        });

        function atualizarCoresTroca() {
            const modeloSelecionado = modeloTrocaSelect.value;
            corTrocaSelect.innerHTML = '<option value="">Selecione a cor...</option>';
            if (modeloSelecionado && modelosData[modeloSelecionado]) {
                corTrocaSelect.disabled = false;
                const cores = modelosData[modeloSelecionado].cores;
                Object.keys(cores).forEach(corKey => {
                    const option = document.createElement('option');
                    option.value = corKey;
                    option.textContent = cores[corKey].nome;
                    corTrocaSelect.appendChild(option);
                });
            } else {
                corTrocaSelect.disabled = true;
            }
            calcularOrcamento();
        }

        function calcularValorTroca() {
            const modeloSelecionado = modeloTrocaSelect.value;
            if (!modeloSelecionado || !modelosData[modeloSelecionado]) return 0;
            const modelo = modelosData[modeloSelecionado];
            let precoBase = modelo.precoBase;
            const corSelecionada = corTrocaSelect.value;
            if (corSelecionada && modelo.cores[corSelecionada]) {
                precoBase += modelo.cores[corSelecionada].ajuste;
            }
            const estadoSelecionado = document.querySelector('input[name="estado-troca"]:checked');
            if (estadoSelecionado) precoBase *= ajustesEstado[estadoSelecionado.value];
            const pecasSelecionadas = document.querySelectorAll('input[name="pecas-troca"]:checked');
            pecasSelecionadas.forEach(peca => precoBase *= ajustesPecas[peca.value]);
            return precoBase;
        }

        function calcularOrcamento() {
            const modeloSelecionado = modeloDesejadoSelect.value;
            if (!modeloSelecionado || !modelosData[modeloSelecionado]) {
                resumoContent.classList.remove('hidden');
                resumoDetalhado.classList.add('hidden');
                return;
            }
            resumoContent.classList.add('hidden');
            resumoDetalhado.classList.remove('hidden');
            resumoDetalhado.classList.add('fade-in');
            const modelo = modelosData[modeloSelecionado];
            modeloDesejadoNome.textContent = modelo.nome;
            if (temTrocaCheckbox.checked && modeloTrocaSelect.value) {
                valorTrocaSection.classList.remove('hidden');
                const valorTrocaCalculado = calcularValorTroca();
                valorTroca.textContent = formatarMoeda(valorTrocaCalculado);
                modeloTrocaNome.textContent = modelosData[modeloTrocaSelect.value].nome;
            } else {
                valorTrocaSection.classList.add('hidden');
            }
        }

        function obterDadosOrcamento() {
            const modeloSelecionado = modeloDesejadoSelect.value;
            if (!modeloSelecionado) return null;
            const modelo = modelosData[modeloSelecionado];
            const nome = document.getElementById('nome').value;
            const telefone = document.getElementById('telefone').value;
            const observacoes = document.getElementById('observacoes').value;
            let dadosTroca = null;
            if (temTrocaCheckbox.checked && modeloTrocaSelect.value) {
                const modeloTrocaSel = modelosData[modeloTrocaSelect.value];
                dadosTroca = {
                    modelo: modeloTrocaSel.nome,
                    valor: valorTroca.textContent
                };
            }
            return {
                modeloDesejado: modelo.nome,
                troca: dadosTroca,
                cliente: { nome, telefone, observacoes },
                data: new Date().toLocaleString('pt-BR')
            };
        }

        function mostrarModal(iconeHtml, titulo, mensagem) {
            const modal = document.getElementById('modal-feedback');
            const modalContent = document.getElementById('modal-content');
            modalContent.querySelector('div').innerHTML = iconeHtml;
            modalContent.querySelector('h3').textContent = titulo;
            modalContent.querySelector('p').textContent = mensagem;
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            document.getElementById('btn-fechar-modal').onclick = () => {
                modal.classList.add('hidden');
                modal.classList.remove('flex');
            };
        }

        function salvarOrcamento() {
            const dados = obterDadosOrcamento();
            if (!dados) {
                mostrarModal(icons.error, 'Aten√ß√£o', 'Selecione o iPhone desejado para continuar.');
                return;
            }
            let historico = JSON.parse(localStorage.getItem('historico-orcamentos') || '[]');
            historico.unshift(dados);
            historico = historico.slice(0, 5);
            localStorage.setItem('historico-orcamentos', JSON.stringify(historico));
            atualizarHistorico();
            mostrarModal(icons.save, 'Salvo!', 'Or√ßamento armazenado no hist√≥rico.');
        }

        function gerarPDF() {
            const dados = obterDadosOrcamento();
            if (!dados) return;
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            doc.setFontSize(22);
            doc.setTextColor(6, 182, 212); 
            doc.text('V&L Imports', 20, 20);
            doc.setTextColor(0, 0, 0);
            doc.setFontSize(16);
            doc.text('Or√ßamento Oficial', 20, 35);
            doc.setFontSize(12);
            doc.text(`Data: ${dados.data}`, 20, 45);
            doc.setLineWidth(0.5);
            doc.line(20, 50, 190, 50);
            doc.setFontSize(14);
            doc.text(`Item Desejado: ${dados.modeloDesejado}`, 20, 65);
            if (dados.troca) {
                doc.text(`Trade-in (Entrada): ${dados.troca.modelo}`, 20, 80);
                doc.text(`Valor Estimado: ${dados.troca.valor}`, 20, 90);
            }
            if (dados.cliente.nome) {
                doc.line(20, 110, 190, 110);
                doc.text(`Cliente: ${dados.cliente.nome}`, 20, 125);
                if(dados.cliente.telefone) doc.text(`Contato: ${dados.cliente.telefone}`, 20, 135);
            }
            doc.save(`orcamento-vl-${Date.now()}.pdf`);
            mostrarModal(icons.pdf, 'PDF Gerado', 'O arquivo foi baixado com sucesso.');
        }

        function enviarWhatsApp() {
            const dados = obterDadosOrcamento();
            if (!dados) return;
            // N√öMERO ATUALIZADO AQUI
            const numeroLoja = '5561983208744';
            let msg = `*V&L SYSTEM - NOVO OR√áAMENTO*\n\n`;
            msg += `üíé *Interesse:* ${dados.modeloDesejado}\n`;
            if (dados.troca) {
                msg += `üîÑ *Troca:* ${dados.troca.modelo}\n`;
                msg += `üí∞ *Valor Avaliado:* ${dados.troca.valor}\n`;
            }
            if (dados.cliente.nome) msg += `\nüë§ *Cliente:* ${dados.cliente.nome}`;
            window.open(`https://wa.me/${numeroLoja}?text=${encodeURIComponent(msg)}`, '_blank');
            mostrarModal(icons.whatsapp, 'Enviado!', 'Redirecionando para o WhatsApp...');
        }

        function atualizarHistorico() {
            const historico = JSON.parse(localStorage.getItem('historico-orcamentos') || '[]');
            const lista = document.getElementById('lista-historico');
            if (historico.length === 0) {
                lista.innerHTML = '<p class="text-gray-600 text-xs text-center py-2 italic">Hist√≥rico vazio</p>';
                return;
            }
            lista.innerHTML = historico.map(item => `
                <div class="bg-white/5 border border-white/5 p-3 rounded-lg hover:border-[#06b6d4]/30 transition-all cursor-default">
                    <div class="flex justify-between items-center mb-1">
                        <span class="text-[#06b6d4] font-bold text-xs">${item.modeloDesejado}</span>
                        <span class="text-[10px] text-gray-500">${item.data.split(' ')[0]}</span>
                    </div>
                    ${item.troca ? `<div class="text-xs text-blue-400">Entrada: ${item.troca.modelo}</div>` : ''}
                </div>
            `).join('');
        }

        modeloDesejadoSelect.addEventListener('change', calcularOrcamento);
        modeloTrocaSelect.addEventListener('change', atualizarCoresTroca);
        corTrocaSelect.addEventListener('change', calcularOrcamento);
        document.querySelectorAll('input[name="estado-troca"], input[name="pecas-troca"]').forEach(el => {
            el.addEventListener('change', calcularOrcamento);
        });
        document.getElementById('btn-salvar').addEventListener('click', salvarOrcamento);
        document.getElementById('btn-pdf').addEventListener('click', gerarPDF);
        document.getElementById('btn-whatsapp').addEventListener('click', enviarWhatsApp);

        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuBtn.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));

        function scrollToForm() {
            document.getElementById('modelo-desejado').scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        document.getElementById('telefone').addEventListener('input', function(e) {
            let v = e.target.value.replace(/\D/g, '');
            if (v.length > 11) v = v.slice(0, 11);
            if (v.length > 6) v = `(${v.slice(0,2)}) ${v.slice(2,7)}-${v.slice(7)}`;
            else if (v.length > 2) v = `(${v.slice(0,2)}) ${v.slice(2)}`;
            e.target.value = v;
        });

        atualizarHistorico();
    </script>
</body>

</html>
